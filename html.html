<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foguete Hub - Sistema de Detec√ß√£o de Apogeu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, rgba(30, 30, 35, 0.95) 0%, rgba(25, 25, 30, 0.95) 100%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.1em;
            color: #a0a0a0;
            margin-top: 10px;
        }

        .nav-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 30px;
            border: 2px solid rgba(100, 181, 246, 0.5);
            background: rgba(100, 181, 246, 0.1);
            color: #64b5f6;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn:hover {
            background: rgba(100, 181, 246, 0.2);
            border-color: #64b5f6;
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: rgba(100, 181, 246, 0.3);
            border-color: #64b5f6;
            box-shadow: 0 0 20px rgba(100, 181, 246, 0.3);
        }

        .content-section {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: 2em;
            margin-bottom: 30px;
            color: #64b5f6;
            border-bottom: 2px solid rgba(100, 181, 246, 0.3);
            padding-bottom: 15px;
        }

        /* Se√ß√£o de C√≥digo */
        .code-image-container {
            background: rgba(20, 20, 25, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .code-image-container img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
            filter: brightness(1) contrast(1);
        }

        /* Se√ß√£o de Explica√ß√£o */
        .explanation-content {
            background: rgba(20, 20, 25, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 40px;
            line-height: 1.8;
        }

        .explanation-content h2 {
            font-size: 1.5em;
            color: #81c784;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #81c784;
            padding-left: 15px;
        }

        .explanation-content h3 {
            font-size: 1.2em;
            color: #64b5f6;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .explanation-content p {
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        .explanation-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;
        }

        .explanation-content table th,
        .explanation-content table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .explanation-content table th {
            background: rgba(100, 181, 246, 0.2);
            color: #64b5f6;
            font-weight: 600;
        }

        .explanation-content table tr:hover {
            background: rgba(100, 181, 246, 0.1);
        }

        .explanation-content strong {
            color: #81c784;
        }

        .explanation-content code {
            background: rgba(0, 0, 0, 0.5);
            padding: 2px 6px;
            border-radius: 4px;
            color: #81c784;
            font-family: 'Courier New', monospace;
        }

        .explanation-content pre {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #81c784;
        }

        .explanation-content pre code {
            background: none;
            padding: 0;
            color: #81c784;
        }

        .explanation-content ul,
        .explanation-content ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .explanation-content li {
            margin-bottom: 8px;
        }

        .explanation-content blockquote {
            border-left: 4px solid #64b5f6;
            padding-left: 15px;
            margin: 20px 0;
            color: #a0a0a0;
            font-style: italic;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #707070;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .nav-container {
                flex-direction: column;
                gap: 10px;
            }

            .nav-btn {
                width: 100%;
            }

            .explanation-content {
                padding: 20px;
            }

            .section-title {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Foguete Hub</h1>
            <p class="subtitle">Sistema de Detec√ß√£o de Apogeu com Arduino</p>
        </header>

        <div class="nav-container">
            <button class="nav-btn active" onclick="showSection('cpp')">
                üìã C√≥digo C++ (Arduino)
            </button>
            <button class="nav-btn" onclick="showSection('python')">
                üêç C√≥digo Python (Simula√ß√£o)
            </button>
            <button class="nav-btn" onclick="showSection('explicacao')">
                üìö Explica√ß√£o T√©cnica
            </button>
        </div>

        <!-- Se√ß√£o C++ -->
        <div id="cpp" class="content-section active">
            <h2 class="section-title">C√≥digo C++ - Arduino Uno</h2>
            <p style="margin-bottom: 20px; color: #a0a0a0;">
                Implementa√ß√£o completa da l√≥gica de detec√ß√£o de apogeu em C++ para Arduino Uno,
                utilizando os sensores MPU6050 (Aceler√¥metro) e BMP280 (Bar√¥metro).
            </p>
            <div class="code-image-container">
                <img src="fogete_2v.png" alt="C√≥digo C++ Arduino">
            </div>
        </div>

        <!-- Se√ß√£o Python -->
        <div id="python" class="content-section">
            <h2 class="section-title">C√≥digo Python - Simula√ß√£o</h2>
            <p style="margin-bottom: 20px; color: #a0a0a0;">
                Simula√ß√£o da l√≥gica de detec√ß√£o de apogeu em Python, √∫til para entender
                e testar o algoritmo sem a necessidade do hardware Arduino.
            </p>
            <div class="code-image-container">
                <img src="fogete_2vpy.png" alt="C√≥digo Python Simula√ß√£o">
            </div>
        </div>

        <!-- Se√ß√£o Explica√ß√£o -->
        <div id="explicacao" class="content-section">
            <h2 class="section-title">Explica√ß√£o T√©cnica</h2>
            <div class="explanation-content">
                <h2>L√≥gica de Detec√ß√£o de Apogeu e C√°lculos Barom√©tricos para Foguetes</h2>

                <p>Este documento detalha a l√≥gica implementada no c√≥digo Arduino para o sistema de bordo de um foguete, com foco na detec√ß√£o do apogeu (altitude m√°xima) e no uso do sensor barom√©trico BMP280 para o c√°lculo de altitude.</p>

                <h2>1. L√≥gica de Detec√ß√£o de Apogeu (Altitude M√°xima)</h2>

                <p>A detec√ß√£o do apogeu √© o momento mais cr√≠tico para o acionamento do sistema de recupera√ß√£o (eje√ß√£o do paraquedas). O objetivo √© ejetar o paraquedas exatamente no ponto mais alto da trajet√≥ria para maximizar a dist√¢ncia horizontal percorrida (se desejado) ou, mais comumente, para garantir que o paraquedas seja ejetado antes que o foguete comece a ganhar velocidade na descida.</p>

                <p>A l√≥gica implementada no c√≥digo utiliza uma <strong>M√°quina de Estados</strong> para rastrear a fase do voo e uma t√©cnica de <strong>compara√ß√£o de altitude</strong> para identificar o apogeu.</p>

                <h3>1.1. A M√°quina de Estados do Voo</h3>

                <p>O c√≥digo divide o voo em cinco estados principais, que simplificam a l√≥gica de decis√£o:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Estado</th>
                            <th>Descri√ß√£o</th>
                            <th>Condi√ß√£o de Transi√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>PRONTO_PARA_LANCAR</strong></td>
                            <td>O foguete est√° no solo, aguardando o lan√ßamento.</td>
                            <td>Acelera√ß√£o total &gt; 1.5G E altitude relativa &gt; 5m</td>
                        </tr>
                        <tr>
                            <td><strong>PROPULSAO</strong></td>
                            <td>O motor est√° ligado e o foguete est√° acelerando.</td>
                            <td>Acelera√ß√£o total &lt; 1.2G</td>
                        </tr>
                        <tr>
                            <td><strong>COSTA</strong></td>
                            <td>O motor est√° desligado, mas o foguete continua subindo por in√©rcia. √â neste estado que o apogeu √© detectado.</td>
                            <td>Altitude atual &lt; Altitude m√°xima (sustentado)</td>
                        </tr>
                        <tr>
                            <td><strong>APOGEU_DETECTADO</strong></td>
                            <td>O apogeu foi confirmado.</td>
                            <td>Transi√ß√£o imediata para RECUPERACAO ap√≥s acionar o impulso</td>
                        </tr>
                        <tr>
                            <td><strong>RECUPERACAO</strong></td>
                            <td>O paraquedas foi ejetado e o foguete est√° descendo.</td>
                            <td>Nenhuma transi√ß√£o, apenas monitoramento</td>
                        </tr>
                    </tbody>
                </table>

                <h3>1.2. O Algoritmo de Detec√ß√£o de Apogeu</h3>

                <p>A detec√ß√£o real do apogeu ocorre durante o estado <strong>COSTA</strong>. O princ√≠pio √© simples: <strong>o apogeu √© alcan√ßado quando a altitude para de subir e come√ßa a cair.</strong></p>

                <ol>
                    <li><strong>Rastreamento da Altitude M√°xima:</strong> A vari√°vel <code>altitudeMaxima</code> armazena a maior altitude registrada desde o in√≠cio do voo.</li>
                    <li><strong>Compara√ß√£o Cont√≠nua:</strong> Em cada leitura do sensor, a <code>altitudeAtual</code> √© comparada com a <code>altitudeMaxima</code>.
                        <ul>
                            <li>Se <code>altitudeAtual</code> for maior que <code>altitudeMaxima</code>, o foguete ainda est√° subindo. A <code>altitudeMaxima</code> √© atualizada e o contador de apogeu √© zerado.</li>
                            <li>Se <code>altitudeAtual</code> for menor que <code>altitudeMaxima</code>, o foguete come√ßou a cair. O contador de apogeu (<code>contadorApogeu</code>) √© incrementado.</li>
                        </ul>
                    </li>
                    <li><strong>Janela de Confirma√ß√£o (<code>JANELA_APOGEU</code>):</strong> Para evitar que ru√≠dos ou pequenas flutua√ß√µes do sensor acionem o paraquedas prematuramente, o c√≥digo exige que a queda de altitude seja sustentada por um n√∫mero espec√≠fico de leituras consecutivas (definido por <code>JANELA_APOGEU</code>, que √© 10 no c√≥digo).
                        <ul>
                            <li>Somente quando <code>contadorApogeu</code> atinge o valor de <code>JANELA_APOGEU</code> √© que o apogeu √© <strong>confirmado</strong> e o impulso el√©trico √© acionado.</li>
                        </ul>
                    </li>
                </ol>

                <p>Este m√©todo √© robusto e amplamente utilizado em projetos de foguetes amadores, pois depende apenas da mudan√ßa de tend√™ncia da altitude, e n√£o de um valor absoluto predefinido.</p>

                <h2>2. C√°lculo de Altitude com o Bar√¥metro (BMP280)</h2>

                <p>O sensor BMP280 mede a press√£o atmosf√©rica e a temperatura. A altitude √© calculada a partir da press√£o, pois a press√£o do ar diminui √† medida que a altitude aumenta.</p>

                <h3>2.1. A F√≥rmula Barom√©trica</h3>

                <p>A biblioteca <code>Adafruit_BMP280</code> utiliza a f√≥rmula barom√©trica padr√£o para calcular a altitude em metros, que √© uma simplifica√ß√£o da Equa√ß√£o Hipsom√©trica:</p>

                <pre><code>Altitude = 44330 √ó [1 - (Press√£o Atual / Press√£o ao N√≠vel do Mar)^(1/5.255)]</code></pre>

                <p>Onde:</p>
                <ul>
                    <li><strong>Press√£o Atual:</strong> √â a press√£o medida pelo sensor BMP280 (em Pascal ou hPa).</li>
                    <li><strong>Press√£o ao N√≠vel do Mar (Refer√™ncia):</strong> √â a press√£o atmosf√©rica no n√≠vel do mar no momento do lan√ßamento.</li>
                </ul>

                <h3>2.2. A Import√¢ncia da Press√£o de Refer√™ncia</h3>

                <p>No c√≥digo, a fun√ß√£o <code>bmp.readAltitude(1013.25)</code> √© utilizada. O valor <code>1013.25</code> √© a press√£o atmosf√©rica padr√£o internacional ao n√≠vel do mar (em hPa).</p>

                <blockquote>
                    Para obter a altitude mais precisa, √© crucial que voc√™ substitua <code>1013.25</code> pela press√£o atmosf√©rica real no n√≠vel do mar no dia e local do lan√ßamento.
                </blockquote>

                <ul>
                    <li><strong>Altitude Absoluta:</strong> Se voc√™ usar a press√£o padr√£o (1013.25 hPa), o sensor retornar√° a altitude <strong>absoluta</strong> do foguete em rela√ß√£o ao n√≠vel do mar padr√£o.</li>
                    <li><strong>Altitude Relativa (Recomendado):</strong> Para fins de foguetismo, o que importa √© a <strong>altitude relativa</strong> (a altura acima do ponto de lan√ßamento). O c√≥digo resolve isso subtraindo a <code>altitudeInicial</code> (a altitude medida no solo) da <code>altitudeAtual</code>.</li>
                </ul>

                <pre><code>Altitude Relativa = Altitude Atual - Altitude Inicial</code></pre>

                <h3>2.3. Filtro de M√©dia M√≥vel</h3>

                <p>Sensores barom√©tricos s√£o sens√≠veis a pequenas varia√ß√µes de press√£o (como rajadas de vento ou ru√≠do eletr√¥nico), o que pode causar flutua√ß√µes nas leituras de altitude.</p>

                <p>Para mitigar isso, o c√≥digo implementa um <strong>Filtro de M√©dia M√≥vel</strong> simples:</p>

                <ul>
                    <li>A fun√ß√£o <code>calcularAltitudeMedia()</code> armazena as √∫ltimas <code>NUM_AMOSTRAS</code> leituras de altitude.</li>
                    <li>A altitude final (<code>altitudeAtual</code>) √© a m√©dia dessas amostras.</li>
                    <li>Isso "suaviza" a curva de altitude, tornando a detec√ß√£o de apogeu mais confi√°vel, pois ignora picos e vales de curta dura√ß√£o.</li>
                </ul>
            </div>
        </div>

        <footer>
            <p>Foguete Hub ¬© 2025 | Sistema de Detec√ß√£o de Apogeu para Arduino Uno</p>
        </footer>
    </div>

    <script>
        function showSection(sectionId) {
            // Esconde todas as se√ß√µes
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Remove a classe active de todos os bot√µes
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(button => {
                button.classList.remove('active');
            });

            // Mostra a se√ß√£o selecionada
            document.getElementById(sectionId).classList.add('active');

            // Adiciona a classe active ao bot√£o clicado
            event.target.classList.add('active');
        }
    </script>
</body>
</html>